[build]
  command = "npm install && npm run build"
  publish = "dist"
  functions = "netlify/functions"

[build.environment]
  NODE_VERSION = "20"
  NPM_FLAGS = "--legacy-peer-deps"

[dev]
  command = "vite"
  port = 8888
  publish = "dist"
  functions = "netlify/functions"
  targetPort = 3001

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

# REMINDER SYSTEM CONFIGURATION
#
# PRIMARY: auto-reminder-check (via GitHub Actions)
# - Runs every 5 minutes via GitHub Actions workflow
# - Sends "due tomorrow" reminders at 9:00 AM PKT
# - Sends 2-day overdue reminders at 9:00 AM PKT
# - Handles snooze expiry at any time
#
# DISABLED: scheduled-reminders.js.disabled
# - Legacy daily scheduler (DISABLED to avoid conflicts)
# - File renamed to .disabled to prevent deployment
# - If you need to re-enable, remove .disabled extension and configure in Netlify dashboard
#
# RECOVERY: check-missed-reminders (manual/on-demand)
# - Catches reminders that were missed due to system downtime
# - Called manually from frontend or via API
#
# GitHub Actions Workflow: .github/workflows/scheduled-reminder.yml
# - Triggers auto-reminder-check every 5 minutes
# - More reliable than Netlify scheduled functions
